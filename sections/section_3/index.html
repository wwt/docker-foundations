
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../section_2/">
      
      
        <link rel="next" href="../section_4/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.3">
    
    
      
        <title>Create a Dockerfile - Docker Foundations Hands-On Walkthrough</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.50c56a3b.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#build-a-dockerfile" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Docker Foundations Hands-On Walkthrough" class="md-header__button md-logo" aria-label="Docker Foundations Hands-On Walkthrough" data-md-component="logo">
      
  <img src="../../img/logo.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Docker Foundations Hands-On Walkthrough
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Create a Dockerfile
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="red" data-md-color-accent="red"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/wwt/docker-foundations" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    wwt/docker-foundations
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../section_1/" class="md-tabs__link">
          
  
  Setup

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="./" class="md-tabs__link">
          
  
  Define Your Project Development Environment

        </a>
      </li>
    
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../section_5/" class="md-tabs__link">
        
  
    
  
  Validate the Environment

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../section_6/" class="md-tabs__link">
        
  
    
  
  Closing

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Docker Foundations Hands-On Walkthrough" class="md-nav__button md-logo" aria-label="Docker Foundations Hands-On Walkthrough" data-md-component="logo">
      
  <img src="../../img/logo.svg" alt="logo">

    </a>
    Docker Foundations Hands-On Walkthrough
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/wwt/docker-foundations" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    wwt/docker-foundations
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Setup
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Setup
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../section_1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Setup - Visual Studio Code
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../section_2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Setup - Start a New Project
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Define Your Project Development Environment
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Define Your Project Development Environment
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Create a Dockerfile
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Create a Dockerfile
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#selecting-a-base-image" class="md-nav__link">
    <span class="md-ellipsis">
      Selecting a Base Image
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-the-initial-dockerfile" class="md-nav__link">
    <span class="md-ellipsis">
      Create the Initial Dockerfile
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#providing-meta-data" class="md-nav__link">
    <span class="md-ellipsis">
      Providing Meta Data
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installing-os-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      Installing OS Requirements
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-a-working-directory" class="md-nav__link">
    <span class="md-ellipsis">
      Create a Working Directory
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#copy-files" class="md-nav__link">
    <span class="md-ellipsis">
      Copy Files
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installing-python-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      Installing Python Requirements
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#final-file" class="md-nav__link">
    <span class="md-ellipsis">
      Final File
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whats-next" class="md-nav__link">
    <span class="md-ellipsis">
      What's Next
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../section_4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Create Devcontainer Configuration
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../section_5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Validate the Environment
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../section_6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Closing
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#selecting-a-base-image" class="md-nav__link">
    <span class="md-ellipsis">
      Selecting a Base Image
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-the-initial-dockerfile" class="md-nav__link">
    <span class="md-ellipsis">
      Create the Initial Dockerfile
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#providing-meta-data" class="md-nav__link">
    <span class="md-ellipsis">
      Providing Meta Data
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installing-os-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      Installing OS Requirements
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-a-working-directory" class="md-nav__link">
    <span class="md-ellipsis">
      Create a Working Directory
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#copy-files" class="md-nav__link">
    <span class="md-ellipsis">
      Copy Files
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installing-python-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      Installing Python Requirements
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#final-file" class="md-nav__link">
    <span class="md-ellipsis">
      Final File
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whats-next" class="md-nav__link">
    <span class="md-ellipsis">
      What's Next
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="build-a-dockerfile"><img alt="🐳" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.0.3/assets/svg/1f433.svg" title=":whale:" /> <img alt="📝" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.0.3/assets/svg/1f4dd.svg" title=":memo:" /> Build a <code>Dockerfile</code></h1>
<p>This section will guide you through building a <code>Dockerfile</code> that will be used as part of the integration with Visual Studio Code.</p>
<p><strong>Scenario:</strong> <em>Imagine you want to start a new Python-based development project and need to get your development environment setup and ready.</em></p>
<div class="admonition quote">
<p class="admonition-title">Quote</p>
<p>A <code>Dockerfile</code> is a text document that contains all the commands a user could call on the command line to assemble an image. Using <code>docker build</code> users can create an automated build that executes several command-line instructions in succession.</p>
</div>
<p>A Dockerfile defines how an image is built.  Once built, the Docker image is the blueprint that will be used to instantiate an ephemeral instance called a container.</p>
<h2 id="selecting-a-base-image"><img alt="💿" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.0.3/assets/svg/1f4bf.svg" title=":cd:" /> Selecting a Base Image</h2>
<p>Typically, the image that you will build for your projects will be based on a foundational image someone else created.  There are a significant number of existing images that you can use as the base of your image.</p>
<p>The best approach is to visit <a href="https://hub.docker.com" target="_blank" title="Docker Hub">Docker Hub</a> and see what images are available based on the focus on your project.</p>
<p><strong>Scenario:</strong> <em>Your project is Python-based, so the base image will be one of the available Python images.</em></p>
<p>There are very simple filtering and searching capabilities on Docker Hub that make it easy to quickly narrow down the options for your base image.</p>
<ol>
<li><em>NAVIGATE</em> to <a href="https://hub.docker.com" target="_blank" title="Docker Hub">https://hub.docker.com</a></li>
<li><em>CLICK</em> <strong>Explore</strong></li>
<li><em>CLICK</em> <strong>Official Images</strong></li>
<li><em>CLICK</em> <strong>Programming Languages</strong></li>
<li><em>CLICK</em> <strong>Python</strong></li>
</ol>
<p><a href="../../images/dockerhub-base-image-search.gif" target="_blank"><img alt="Docker Hub Base Image Search" src="../../images/dockerhub-base-image-search.gif" title="Docker Hub Base Image Search" /></a></p>
<p>Feel free to review the available images and read the supporting documentation about the images.  This example will utilize a Python base image named <strong>slim-buster</strong>.</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>Here are some instructions for building a base image if you so desire: <a href="https://docs.docker.com/develop/develop-images/baseimages/" target="_blank" title="Base Images">Base Images</a></p>
</div>
<h2 id="create-the-initial-dockerfile">Create the Initial Dockerfile</h2>
<p>Once you have selected the desired base image you can start to build your <code>Dockerfile</code> for the project. The first line of a Dockerfile is <em>almost</em> always the <a href="https://docs.docker.com/engine/reference/builder/#from" target="_blank" title="FROM"><code>FROM</code></a> command.  The only other command that can precede  <code>FROM</code> is <code>ARG</code>.  This section keeps it simple and uses only <code>FROM</code></p>
<ol>
<li><em>CREATE</em> a <strong>new file</strong> named <strong>Dockerfile</strong> in the <em>root</em> of your project directory</li>
<li><em>ADD</em> the following first <strong>line</strong></li>
</ol>
<p>​    <code>FROM python:slim-buster</code></p>
<p><a href="../../images/dockerfile-from.gif" target="_blank"><img alt="Create Dockerfile" src="../../images/dockerfile-from.gif" title="Create Dockerfile" /></a></p>
<h2 id="providing-meta-data">Providing Meta Data</h2>
<p>Using the <a href="https://docs.docker.com/engine/reference/builder/#label" target="_blank" title="LABEL"><code>LABEL</code></a> command we can include some information about the Dockerfile to increase supportability down the road.  The <code>LABEL</code> command allows you to define a series of <strong>key</strong> and <strong>value</strong> pairs of attributes.</p>
<div class="highlight"><pre><span></span><code><span class="c"># Define some meta data</span>
<span class="k">LABEL</span><span class="w"> </span><span class="nv">author</span><span class="o">=</span><span class="s2">&quot;Jeff Andiorio&quot;</span><span class="w"> </span><span class="nv">email</span><span class="o">=</span><span class="s2">&quot;jeff.andiorio@wwt.com&quot;</span>
</code></pre></div>
<h2 id="installing-os-requirements">Installing OS Requirements</h2>
<p>There will be many occasions where you will need to add some OS level packages that rely on a package manager for installation.  In this case we are on a Debian Linux based system which uses <code>apt</code> as a package manager.</p>
<p>In the Dockerfile you can use the <a href="https://docs.docker.com/engine/reference/builder/#run" target="_blank" title="RUN"><code>RUN</code></a> command to provide instructions to perform these package installations.  The <code>RUN</code> instruction can be used for executing commands on the target container.  This section will use the <em>shell</em> syntax.  Check the Docker documentation for more information.</p>
<div class="highlight"><pre><span></span><code><span class="c"># Update Debian Packages and Install Git</span>
<span class="k">RUN</span><span class="w"> </span>apt-get<span class="w"> </span>update<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>apt-get<span class="w"> </span>-y<span class="w"> </span>install<span class="w"> </span>git
</code></pre></div>
<p>Since this will be our development environment we will need to have <code>git</code> installed in the container.</p>
<h2 id="create-a-working-directory"><img alt="📂" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.0.3/assets/svg/1f4c2.svg" title=":open_file_folder:" /> Create a Working Directory</h2>
<p>A Working Directory is set to be the source directory for all subsequent <code>RUN</code>, <code>CMD</code>, <code>COPY</code>, and <code>ADD</code> Dockerfile Instructions.  This walk-through will create a <code>/development</code> directory in our container and set it as our <strong>working directory</strong></p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>If the directory doesn't exist it will be created automatically.</p>
</div>
<ol>
<li><em>APPEND</em> the <code>WORKDIR</code> instruction to the <code>Dockerfile</code></li>
</ol>
<div class="highlight"><pre><span></span><code><span class="c"># Set the new directory</span>
<span class="k">WORKDIR</span><span class="w"> </span><span class="s">/development</span>
</code></pre></div>
<h2 id="copy-files">Copy Files</h2>
<p>Another common need is to copy files into the container.  When using the container as a development environment, Visual Studio Code will automatically <strong>mount</strong> the project directory and make the files available within the container.  This relates to files you need to have available in the Docker image (aside from your development repo) like the <code>requirements.txt</code> file, so we can install packages.</p>
<p><strong>Scenario:</strong> <em>The python project will require a couple of additional python packages.  Create a <code>requirements.txt</code> file and make sure it's available to your Docker image.</em></p>
<ol>
<li>
<p><em>CREATE</em> a <strong>file</strong> named <code>requirements.txt</code> in the project root directory</p>
</li>
<li>
<p><em>ADD</em> the <strong>text</strong> below to the file</p>
</li>
</ol>
<div class="highlight"><pre><span></span><code>pyaml
requests
flake8
</code></pre></div>
<ol>
<li>
<p><em>SAVE</em> the <strong>file</strong></p>
</li>
<li>
<p><em>APPEND</em> the <code>COPY</code> instruction to the <code>Dockerfile</code></p>
<div class="highlight"><pre><span></span><code><span class="c"># Copy requirements.txt into Container</span>
<span class="k">COPY</span><span class="w"> </span>requirements.txt<span class="w"> </span>/development
</code></pre></div>
</li>
</ol>
<h2 id="installing-python-requirements"><img alt="🐍" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.0.3/assets/svg/1f40d.svg" title=":snake:" /> Installing Python Requirements</h2>
<p><strong>Scenario:</strong> <em>Just having the requirements.txt file will not install the required packages.  Add the 'RUN' command to the <code>Dockerfile</code> to install your python project requirements.</em></p>
<ol>
<li>
<p><em>APPEND</em> the <code>RUN</code> instruction to the <code>Dockerfile</code> to <strong>install</strong> the python requirements</p>
<div class="highlight"><pre><span></span><code><span class="c"># Install Python Requirements</span>
<span class="k">RUN</span><span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>-r<span class="w"> </span>requirements.txt
</code></pre></div>
</li>
</ol>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>The 'RUN' command above will look for the <code>requirements.txt</code> file in the <code>WORKDIR</code> which is where you copied the file.</p>
</div>
<h2 id="final-file">Final File</h2>
<p>If you have followed all the instructions, your final Dockerfile will look similar to this:</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>The <code>LABEL</code> instruction will have your information.</p>
</div>
<div class="highlight"><pre><span></span><code><span class="k">FROM</span><span class="w"> </span><span class="s">python:slim-buster</span>

<span class="c"># Define some meta data</span>
<span class="k">LABEL</span><span class="w"> </span><span class="nv">author</span><span class="o">=</span><span class="s2">&quot;Jeff Andiorio&quot;</span><span class="w"> </span><span class="nv">email</span><span class="o">=</span><span class="s2">&quot;jeff.andiorio@wwt.com&quot;</span>

<span class="c"># Update Debian Packages and Install Git</span>
<span class="k">RUN</span><span class="w"> </span>apt-get<span class="w"> </span>update<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>apt-get<span class="w"> </span>-y<span class="w"> </span>install<span class="w"> </span>git

<span class="c"># Set the new directory</span>
<span class="k">WORKDIR</span><span class="w"> </span><span class="s">/development</span>

<span class="c"># Copy requirements.txt into Container</span>
<span class="k">COPY</span><span class="w"> </span>requirements.txt<span class="w"> </span>/development

<span class="c"># Install Python Requirements</span>
<span class="k">RUN</span><span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>-r<span class="w"> </span>requirements.txt
</code></pre></div>
<h2 id="whats-next">What's Next</h2>
<p>Now that you have the completed <code>Dockerfile</code> created and have successfully utilized several of the basic Dockerfile instructions how can you use that file?</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.sections", "navigation.tabs"], "search": "../../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.d7c377c4.min.js"></script>
      
    
  </body>
</html>